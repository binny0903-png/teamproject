<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
</head>
<style>
	.content{
		width: 1100px;
		overflow: hidden;
		background-color: #F4F4F4;
		margin: 0 auto;
	}
	.space{
		height : 80px;
	}
	.view-title{
		margin: 0 auto;
		text-align: center;
		color: orange;
		font-weight: bold;
		margin-bottom: 20px;
	}
	
	.view-content{
		border: 1px solid orange;
		border-radius: 15px;
		box-sizing: border-box;
		width: 1000px;
		height: 600px;
		margin: 0 auto;
		background-color: white;
	}
	
	.writtenTitle{
		width: 100%;
		height: 50px;
		text-align: center;
	}
	.writtenTitle>td{
		margin: 0 auto;
		border-bottom: 1px solid black;
		font-weight: bold;
	}
	
	.contentInfo{
		width: 100%;
		height: 50px;
		padding-top: 5px;
	}
	.contentInfo>td{
		margin: 0 auto;
		text-align: center;
		border-bottom: 1px solid black;
	}
	
	.writtenContent{
		width: 100%;
		height: 400px;
	}
	.writtenContent>td{
		border-bottom: 1px solid black;
		padding-left: 5px;
	}
	
	.reportInput>td{		
		margin-right: 10px;
		border-bottom: 1px solid black;
	}
	.reportInput>td>button{
		margin:0 auto;
		float: left;
		text-align: right;
		width: 100%;
		border: none;
		cursor: pointer;
		font-size: 15px;
		background-color: white;
		padding-right: 10px;
		color: red;
		margin-bottom: 5px;

	}
	
	.update-delete>td>button{
		margin: 0 auto;
		cursor: pointer;
		border: none;
		border: 1px solid orange;
		border-radius: 15px;
		padding: 10px;
		margin: 0px 10px;
		background-color: orange;
		color: white;
		font-size: 15px;
		
	}
	.update-delete>td{
		text-align: center;
	}
	/*
	.update-delete>td>button:first-child{	
		margin-left: 400px;
	}
	.update-delete>td>button:last-child{
		margin-left: 10px;
	}
	*/
	.commentInputBox{
		margin: 0 auto;
		width: 100%;
		box-sizing: border-box;
		padding: 0px 20px;
	}
	.commentInputBox>form>ul{
		display: flex;
		justify-content: center;
	}
	[name=qnaCommentContent]{
		margin: 0 auto;
		float: left;
		margin-top: 15px;
		width: 800px;
		height: 75px;
		border: none;
		border: 1px solid orange;
		border-radius: 15px;
		margin-left: 5px;
	}
	.commentInputBox>form>ul>li>button{
		margin-top: 15px;
		padding: 15px;
		height: 75px;
		border: none;
		border: 1px solid orange;
		border-radius: 15px;
		background-color: orange;
		color: white;
		margin-left: 10px;
	}
	
	.contentList{
		width: 1000px;
		
	}
	.contentList>li{
		margin: 0 auto;
		width: 10px;
	}
	#commentInfo{
		margin: 0 auto;
		border:1px solid orange;
		background-color: white;
		width: 800px;
		padding-left: 10px;
		border-radius: 15px;
		height: 80px;
	}
	.commentDate{
		border-right: 1px solid gray;
	}
</style>
<body>
	<th:block th:include="common/header"></th:block>
	<main class="qna content">
		<section class="qna view-wrap">
			
			<div class="space"></div><!-- header와 view-title 거리조절 -->
			
			<div class="view-title">질문 게시판 상세</div>
			
			<table class="view-content">
				<tr class="writtenTitle"><!-- 제목 -->
					<td th:text="${q.qnaTitle}" colspan="3"></td>
				</tr>
					
				<tr class="contentInfo"><!-- 작성자, 조회수, 작성일 -->
					<td>작성자 : <span th:text="${q.memberNo}"></span></td>
					<td>조회수 : <span th:text="${q.qnaCount}"></span></td>
					<td>작성일 : <span th:text="${q.qnaDate}"></span></td>
				</tr>
				
				<tr class="writtenContent"><!-- 질문 내용 -->
					<td colspan="3"><span th:text="${q.qnaContent}"></span></td>
				</tr>
				
				<tr class="reportInput">
					<td colspan ="5">
						<button colspan="3"><span class="material-icons">report</span>신고하기</button>
					</td>	
				</tr>
				
				<tr class="update-delete">
					<td colspan="3">
						<button class="update-content">수정하기</button>
						<button class="delete-content">삭제하기</button>
					</td>
				</tr>
			</table>
			
			<!-- 댓글 입력 -->
			<div class="commentInputBox" th:if="${session.member != null}">
				<form action="comment" method="post">
					<ul>
						<li>
							<td style="width:10%;">
								<span class="material-icons" style="font-size:100px; color:#444444;">portrait</span>
							</td>
						</li>
						
						<li>
							<input type="hidden" name="qnaCommentWriter" th:value="${session.member.memberNo}">
							<input type="hidden" name="qnaNo" th:value="${q.qnaNo}">
							<div class="input-item">
								<textarea name="qnaCommentContent"></textarea>
							</div>
						</li>
						
						<li>
							<button type="submit" class="qnaCommentBtn">등록하기</button>
						</li>
					</ul>
				</form>
			</div>
			
			<!-- 댓글 출력-->
			<th:block th:each="qc : ${q.qnaCommentList}">
				<ul class="commentList">
					<li>
						<td style="width:10%;">
							<span class="material-icons" style="font-size:100px; color:#444444;">portrait</span>
						</td>
					</li>
					
					<li id="commentInfo">
						<p th:text="${qc.memberNo}"></p>
						<p class="commentDate" th:text="${qc.qnaCommentDate}"></p>
						<p th:text="${qc.qnaCommentContent}"></p>					
					</li>
				</ul>
			</th:block>
		</section>
	</main>
	<th:block th:include="common/footer"></th:block>
</body>
</html>